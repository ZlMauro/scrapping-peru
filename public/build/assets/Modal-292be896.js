import{a as de,u as ce,c as L,e as Ke}from"./createWithBsPrefix-a68b3894.js";import{e as ue,o as Ce,s as I,u as Ue,c as m,l as ve,a as we,C as Ge,d as Ve,r as ye,F as ke,f as ze,t as Xe}from"./CloseButton-a10fcccb.js";import{u as Ye,c as Re,a as qe,h as Je,b as Qe}from"./hasClass-0219308f.js";import{r as a,a as d,F as Me,m as Ze,j as Ne}from"./app-dcd3922e.js";var et=Function.prototype.bind.call(Function.prototype.call,[].slice);function B(t,e){return et(t.querySelectorAll(e))}const tt="data-rr-ui-",ot="rrUi";function nt(t){return`${tt}${t}`}function Ot(t){return`${ot}${t}`}function rt(t){var e=a.exports.useRef(null);return a.exports.useEffect(function(){e.current=t}),e.current}var Y;function Te(t){if((!Y&&Y!==0||t)&&ue){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Y=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Y}function ae(t){t===void 0&&(t=Ce());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function st(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const be=nt("modal-open");class fe{constructor({ownerDocument:e,handleContainerOverflow:o=!0,isRTL:n=!1}={}){this.handleContainerOverflow=o,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return st(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const o={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(o[n]=`${parseInt(I(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(be,""),I(r,o)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const o=this.getElement();o.removeAttribute(be),Object.assign(o.style,e.style)}add(e){let o=this.modals.indexOf(e);return o!==-1||(o=this.modals.length,this.modals.push(e),this.setModalAttributes(e),o!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),o}remove(e){const o=this.modals.indexOf(e);o!==-1&&(this.modals.splice(o,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const at=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function it(t,e){if(t==null)return{};var o={},n=Object.keys(t),r,l;for(l=0;l<n.length;l++)r=n[l],!(e.indexOf(r)>=0)&&(o[r]=t[r]);return o}let ie;function lt(t){return ie||(ie=new fe({ownerDocument:t==null?void 0:t.document})),ie}function dt(t){const e=qe(),o=t||lt(e),n=a.exports.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>o.add(n.current),remove:()=>o.remove(n.current),isTopModal:()=>o.isTopModal(n.current),setDialogRef:a.exports.useCallback(r=>{n.current.dialog=r},[]),setBackdropRef:a.exports.useCallback(r=>{n.current.backdrop=r},[])})}const Ae=a.exports.forwardRef((t,e)=>{let{show:o=!1,role:n="dialog",className:r,style:l,children:E,backdrop:f=!0,keyboard:v=!0,onBackdropClick:T,onEscapeKeyDown:g,transition:u,backdropTransition:b,autoFocus:q=!0,enforceFocus:W=!0,restoreFocus:J=!0,restoreFocusOptions:x,renderDialog:_,renderBackdrop:Q=i=>d("div",Object.assign({},i)),manager:Z,container:ee,onShow:j,onHide:H=()=>{},onExit:P,onExited:K,onExiting:U,onEnter:G,onEntering:V,onEntered:z}=t,X=it(t,at);const C=Ye(ee),c=dt(Z),te=Ue(),oe=rt(o),[y,w]=a.exports.useState(!o),p=a.exports.useRef(null);a.exports.useImperativeHandle(e,()=>c,[c]),ue&&!oe&&o&&(p.current=ae()),!u&&!o&&!y?w(!0):o&&y&&w(!1);const k=m(()=>{if(c.add(),D.current=ve(document,"keydown",re),N.current=ve(document,"focus",()=>setTimeout(R),!0),j&&j(),q){const i=ae(document);c.dialog&&i&&!Re(c.dialog,i)&&(p.current=i,c.dialog.focus())}}),h=m(()=>{if(c.remove(),D.current==null||D.current(),N.current==null||N.current(),J){var i;(i=p.current)==null||i.focus==null||i.focus(x),p.current=null}});a.exports.useEffect(()=>{!o||!C||k()},[o,C,k]),a.exports.useEffect(()=>{y&&h()},[y,h]),we(()=>{h()});const R=m(()=>{if(!W||!te()||!c.isTopModal())return;const i=ae();c.dialog&&i&&!Re(c.dialog,i)&&c.dialog.focus()}),ne=m(i=>{i.target===i.currentTarget&&(T==null||T(i),f===!0&&H())}),re=m(i=>{v&&i.keyCode===27&&c.isTopModal()&&(g==null||g(i),i.defaultPrevented||H())}),N=a.exports.useRef(),D=a.exports.useRef(),se=(...i)=>{w(!0),K==null||K(...i)},A=u;if(!C||!(o||A&&!y))return null;const $=Object.assign({role:n,ref:c.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},X,{style:l,className:r,tabIndex:-1});let M=_?_($):d("div",Object.assign({},$,{children:a.exports.cloneElement(E,{role:"document"})}));A&&(M=d(A,{appear:!0,unmountOnExit:!0,in:!!o,onExit:P,onExiting:U,onExited:se,onEnter:G,onEntering:V,onEntered:z,children:M}));let O=null;if(f){const i=b;O=Q({ref:c.setBackdropRef,onClick:ne}),i&&(O=d(i,{appear:!0,in:!!o,children:O}))}return d(Me,{children:Ze.createPortal(Ne(Me,{children:[O,M]}),C)})});Ae.displayName="Modal";const ct=Object.assign(Ae,{Manager:fe});function ut(t,e){t.classList?t.classList.add(e):Je(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function xe(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ft(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=xe(t.className,e):t.setAttribute("class",xe(t.className&&t.className.baseVal||"",e))}const F={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ht extends fe{adjustAndStore(e,o,n){const r=o.style[e];o.dataset[e]=r,I(o,{[e]:`${parseFloat(I(o,e))+n}px`})}restore(e,o){const n=o.dataset[e];n!==void 0&&(delete o.dataset[e],I(o,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const o=this.getElement();if(ut(o,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";B(o,F.FIXED_CONTENT).forEach(l=>this.adjustAndStore(n,l,e.scrollBarWidth)),B(o,F.STICKY_CONTENT).forEach(l=>this.adjustAndStore(r,l,-e.scrollBarWidth)),B(o,F.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(r,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const o=this.getElement();ft(o,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";B(o,F.FIXED_CONTENT).forEach(l=>this.restore(n,l)),B(o,F.STICKY_CONTENT).forEach(l=>this.restore(r,l)),B(o,F.NAVBAR_TOGGLER).forEach(l=>this.restore(r,l))}}let le;function gt(t){return le||(le=new ht(t)),le}const pt=de("modal-body"),Oe=a.exports.createContext({onHide(){}}),Se=a.exports.forwardRef(({bsPrefix:t,className:e,contentClassName:o,centered:n,size:r,fullscreen:l,children:E,scrollable:f,...v},T)=>{t=ce(t,"modal");const g=`${t}-dialog`,u=typeof l=="string"?`${t}-fullscreen-${l}`:`${t}-fullscreen`;return d("div",{...v,ref:T,className:L(g,e,r&&`${t}-${r}`,n&&`${g}-centered`,f&&`${g}-scrollable`,l&&u),children:d("div",{className:L(`${t}-content`,o),children:E})})});Se.displayName="ModalDialog";const Be=Se,mt=de("modal-footer"),Et={closeLabel:"Close",closeButton:!1},Fe=a.exports.forwardRef(({closeLabel:t,closeVariant:e,closeButton:o,onHide:n,children:r,...l},E)=>{const f=a.exports.useContext(Oe),v=m(()=>{f==null||f.onHide(),n==null||n()});return Ne("div",{ref:E,...l,children:[r,o&&d(Ge,{"aria-label":t,variant:e,onClick:v})]})});Fe.defaultProps=Et;const vt={closeLabel:"Close",closeButton:!1},he=a.exports.forwardRef(({bsPrefix:t,className:e,...o},n)=>(t=ce(t,"modal-header"),d(Fe,{ref:n,...o,className:L(e,t)})));he.displayName="ModalHeader";he.defaultProps=vt;const yt=he,Rt=t=>a.exports.forwardRef((e,o)=>d("div",{...e,ref:o,className:L(e.className,t)})),Mt=Rt("h4"),Tt=de("modal-title",{Component:Mt}),bt={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Be};function xt(t){return d(ke,{...t,timeout:null})}function Ct(t){return d(ke,{...t,timeout:null})}const ge=a.exports.forwardRef(({bsPrefix:t,className:e,style:o,dialogClassName:n,contentClassName:r,children:l,dialogAs:E,"aria-labelledby":f,"aria-describedby":v,"aria-label":T,show:g,animation:u,backdrop:b,keyboard:q,onEscapeKeyDown:W,onShow:J,onHide:x,container:_,autoFocus:Q,enforceFocus:Z,restoreFocus:ee,restoreFocusOptions:j,onEntered:H,onExit:P,onExiting:K,onEnter:U,onEntering:G,onExited:V,backdropClassName:z,manager:X,...C},c)=>{const[te,oe]=a.exports.useState({}),[y,w]=a.exports.useState(!1),p=a.exports.useRef(!1),k=a.exports.useRef(!1),h=a.exports.useRef(null),[R,ne]=Qe(),re=Ve(c,ne),N=m(x),D=Ke();t=ce(t,"modal");const se=a.exports.useMemo(()=>({onHide:N}),[N]);function A(){return X||gt({isRTL:D})}function $(s){if(!ue)return;const S=A().getScrollbarWidth()>0,Ee=s.scrollHeight>Ce(s).documentElement.clientHeight;oe({paddingRight:S&&!Ee?Te():void 0,paddingLeft:!S&&Ee?Te():void 0})}const M=m(()=>{R&&$(R.dialog)});we(()=>{ye(window,"resize",M),h.current==null||h.current()});const O=()=>{p.current=!0},i=s=>{p.current&&R&&s.target===R.dialog&&(k.current=!0),p.current=!1},pe=()=>{w(!0),h.current=Xe(R.dialog,()=>{w(!1)})},Le=s=>{s.target===s.currentTarget&&pe()},De=s=>{if(b==="static"){Le(s);return}if(k.current||s.target!==s.currentTarget){k.current=!1;return}x==null||x()},$e=s=>{q?W==null||W(s):(s.preventDefault(),b==="static"&&pe())},Ie=(s,S)=>{s&&$(s),U==null||U(s,S)},We=s=>{h.current==null||h.current(),P==null||P(s)},_e=(s,S)=>{G==null||G(s,S),ze(window,"resize",M)},je=s=>{s&&(s.style.display=""),V==null||V(s),ye(window,"resize",M)},He=a.exports.useCallback(s=>d("div",{...s,className:L(`${t}-backdrop`,z,!u&&"show")}),[u,z,t]),me={...o,...te};me.display="block";const Pe=s=>d("div",{role:"dialog",...s,style:me,className:L(e,t,y&&`${t}-static`,!u&&"show"),onClick:b?De:void 0,onMouseUp:i,"aria-label":T,"aria-labelledby":f,"aria-describedby":v,children:d(E,{...C,onMouseDown:O,className:n,contentClassName:r,children:l})});return d(Oe.Provider,{value:se,children:d(ct,{show:g,ref:re,backdrop:b,container:_,keyboard:!0,autoFocus:Q,enforceFocus:Z,restoreFocus:ee,restoreFocusOptions:j,onEscapeKeyDown:$e,onShow:J,onHide:x,onEnter:Ie,onEntering:_e,onEntered:H,onExit:We,onExiting:K,onExited:je,manager:A(),transition:u?xt:void 0,backdropTransition:u?Ct:void 0,renderBackdrop:He,renderDialog:Pe})})});ge.displayName="Modal";ge.defaultProps=bt;const St=Object.assign(ge,{Body:pt,Header:yt,Title:Tt,Footer:mt,Dialog:Be,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{Fe as A,ct as B,St as M,Ot as a,Rt as b,Oe as c,nt as d,ht as e,gt as g,B as q};
